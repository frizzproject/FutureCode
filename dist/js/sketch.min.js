var streamNumber=864,streams=[];function setup(){createCanvas(windowWidth,windowHeight).parent("idcanvas"),colorMode(HSB),background(221,88,13),noFill(),strokeWeight(.1),noiseDetail(10);for(var i=0;i<streamNumber;i++)streams[i]=new Stream(i)}function windowResized(){for(var i=0;i<streamNumber;i++)streams[i]=new Stream(i);resizeCanvas(windowWidth,windowHeight)}function draw(){for(var i=0;i<streamNumber;i++)streams[i].display()}function Stream(i){this.index=i,this.velocity=createVector(10,10,10),this.acceleration=createVector(10,10,10);let t=random(0,width/6),o=random(width/4,2*width/6),s=random(4*width/10,6*width/10),n=random(7*width/10,9*width/10);random3=random([t,t,t,t,t,t,t,t,t,t,t,o,s,s,s,s,s,n,n]),window.matchMedia("(min-width: 1981px)").matches?(this.positionA=createVector(random3,random(1300,1250),random(0,height*width)),this.positionB=this.positionA.copy()):(this.positionA=createVector(random3,random(650,750),random(0,height*width)),this.positionB=this.positionA.copy()),window.matchMedia("(max-height: 700px)").matches&&(this.positionA=createVector(random3,random(600,450),random(0,height*width)),this.positionB=this.positionA.copy())}Stream.prototype.display=function(){if(this.positionB.y<0){if(random(1,10)<2){let i=random(0,width/6),t=random(width/4,2*width/6),o=random(4*width/10,6*width/10),s=random(7*width/10,9*width/10);random3=random([i,i,i,i,i,i,i,i,i,i,i,t,o,o,o,o,o,s,s]),this.positionA=createVector(random3,random(0,height),random(0,height*width)),this.positionB=this.positionA.copy()}}this.positionA.x<width&&this.positionA.x>0&&(this.velocity=createVector(.4-1*noise(3+2*cos(TAU*this.positionB.x/width),2+1*cos(1*TAU*this.positionB.y/height)),.4-2*noise(3+2*sin(TAU*this.positionB.x/width),2+1*sin(1*TAU*this.positionB.y/height))),this.velocity.mult(4),this.velocity.rotate(.8*noise(1+sin(TAU*this.positionB.y/height))),this.positionA=this.positionB.copy(),this.positionB.add(this.velocity),stroke(212,76,93,100),line(this.positionA.x,this.positionA.y,this.positionB.x,this.positionB.y))};